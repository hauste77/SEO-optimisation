!function(window,factory){var lazySizes=factory(window,window.document,Date);window.lazySizes=lazySizes,"object"==typeof module&&module.exports&&(module.exports=lazySizes)}("undefined"!=typeof window?window:{},(function l(window,document,Date){"use strict";var lazysizes,lazySizesCfg;if(function(){var prop,lazySizesDefaults={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(prop in lazySizesCfg=window.lazySizesConfig||window.lazysizesConfig||{},lazySizesDefaults)prop in lazySizesCfg||(lazySizesCfg[prop]=lazySizesDefaults[prop])}(),!document||!document.getElementsByClassName)return{init:function(){},cfg:lazySizesCfg,noSupport:!0};var docElem=document.documentElement,supportPicture=window.HTMLPictureElement,_addEventListener="addEventListener",_getAttribute="getAttribute",addEventListener=window.addEventListener.bind(window),setTimeout=window.setTimeout,requestAnimationFrame=window.requestAnimationFrame||setTimeout,requestIdleCallback=window.requestIdleCallback,regPicture=/^picture$/i,loadEvents=["load","error","lazyincluded","_lazyloaded"],regClassCache={},forEach=Array.prototype.forEach,hasClass=function(ele,cls){return regClassCache[cls]||(regClassCache[cls]=new RegExp("(\\s|^)"+cls+"(\\s|$)")),regClassCache[cls].test(ele.getAttribute("class")||"")&&regClassCache[cls]},addClass=function(ele,cls){hasClass(ele,cls)||ele.setAttribute("class",(ele.getAttribute("class")||"").trim()+" "+cls)},removeClass=function(ele,cls){var reg;(reg=hasClass(ele,cls))&&ele.setAttribute("class",(ele.getAttribute("class")||"").replace(reg," "))},addRemoveLoadEvents=function(dom,fn,add){var action=add?_addEventListener:"removeEventListener";add&&addRemoveLoadEvents(dom,fn),loadEvents.forEach((function(evt){dom[action](evt,fn)}))},triggerEvent=function(elem,name,detail,noBubbles,noCancelable){var event=document.createEvent("Event");return detail||(detail={}),detail.instance=lazysizes,event.initEvent(name,!noBubbles,!noCancelable),event.detail=detail,elem.dispatchEvent(event),event},updatePolyfill=function(el,full){var polyfill;!supportPicture&&(polyfill=window.picturefill||lazySizesCfg.pf)?(full&&full.src&&!el.getAttribute("srcset")&&el.setAttribute("srcset",full.src),polyfill({reevaluate:!0,elements:[el]})):full&&full.src&&(el.src=full.src)},getCSS=function(elem,style){return(getComputedStyle(elem,null)||{})[style]},getWidth=function(elem,parent,width){for(width=width||elem.offsetWidth;width<lazySizesCfg.minSize&&parent&&!elem._lazysizesWidth;)width=parent.offsetWidth,parent=parent.parentNode;return width},rAF=(secondFns=[],fns=firstFns=[],(rafBatch=function(fn,queue){running&&!queue?fn.apply(this,arguments):(fns.push(fn),waiting||(waiting=!0,(document.hidden?setTimeout:requestAnimationFrame)(run)))})._lsFlush=run=function(){var runFns=fns;for(fns=firstFns.length?secondFns:firstFns,running=!0,waiting=!1;runFns.length;)runFns.shift()();running=!1},rafBatch),running,waiting,firstFns,secondFns,fns,run,rafBatch,rAFIt=function(fn,simple){return simple?function(){rAF(fn)}:function(){var that=this,args=arguments;rAF((function(){fn.apply(that,args)}))}},throttle=function(fn){var running,lastTime=0,gDelay=lazySizesCfg.throttleDelay,rICTimeout=lazySizesCfg.ricTimeout,run=function(){running=!1,lastTime=Date.now(),fn()},idleCallback=requestIdleCallback&&rICTimeout>49?function(){requestIdleCallback(run,{timeout:rICTimeout}),rICTimeout!==lazySizesCfg.ricTimeout&&(rICTimeout=lazySizesCfg.ricTimeout)}:rAFIt((function(){setTimeout(run)}),!0);return function(isPriority){var delay;(isPriority=!0===isPriority)&&(rICTimeout=33),running||(running=!0,(delay=gDelay-(Date.now()-lastTime))<0&&(delay=0),isPriority||delay<9?idleCallback():setTimeout(idleCallback,delay))}},debounce=function(func){var timeout,timestamp,wait=99,run=function(){timeout=null,func()},later=function(){var last=Date.now()-timestamp;last<99?setTimeout(later,99-last):(requestIdleCallback||run)(run)};return function(){timestamp=Date.now(),timeout||(timeout=setTimeout(later,99))}},loader=(regImg=/^img$/i,regIframe=/^iframe$/i,supportScroll="onscroll"in window&&!/(gle|ing)bot/.test(navigator.userAgent),shrinkExpand=0,currentExpand=0,isLoading=0,lowRuns=-1,resetPreloading=function(e){isLoading--,(!e||isLoading<0||!e.target)&&(isLoading=0)},isVisible=function(elem){return null==isBodyHidden&&(isBodyHidden="hidden"==getCSS(document.body,"visibility")),isBodyHidden||!("hidden"==getCSS(elem.parentNode,"visibility")&&"hidden"==getCSS(elem,"visibility"))},isNestedVisible=function(elem,elemExpand){var outerRect,parent=elem,visible=isVisible(elem);for(eLtop-=elemExpand,eLbottom+=elemExpand,eLleft-=elemExpand,eLright+=elemExpand;visible&&(parent=parent.offsetParent)&&parent!=document.body&&parent!=docElem;)(visible=(getCSS(parent,"opacity")||1)>0)&&"visible"!=getCSS(parent,"overflow")&&(outerRect=parent.getBoundingClientRect(),visible=eLright>outerRect.left&&eLleft<outerRect.right&&eLbottom>outerRect.top-1&&eLtop<outerRect.bottom+1);return visible},throttledCheckElements=throttle(checkElements=function(){var eLlen,i,rect,autoLoadElem,loadedSomething,elemExpand,elemNegativeExpand,elemExpandVal,beforeExpandVal,defaultExpand,preloadExpand,hFac,lazyloadElems=lazysizes.elements;if((loadMode=lazySizesCfg.loadMode)&&isLoading<8&&(eLlen=lazyloadElems.length)){for(i=0,lowRuns++;i<eLlen;i++)if(lazyloadElems[i]&&!lazyloadElems[i]._lazyRace)if(!supportScroll||lazysizes.prematureUnveil&&lazysizes.prematureUnveil(lazyloadElems[i]))unveilElement(lazyloadElems[i]);else if((elemExpandVal=lazyloadElems[i].getAttribute("data-expand"))&&(elemExpand=1*elemExpandVal)||(elemExpand=currentExpand),defaultExpand||(defaultExpand=!lazySizesCfg.expand||lazySizesCfg.expand<1?docElem.clientHeight>500&&docElem.clientWidth>500?500:370:lazySizesCfg.expand,lazysizes._defEx=defaultExpand,preloadExpand=defaultExpand*lazySizesCfg.expFactor,hFac=lazySizesCfg.hFac,isBodyHidden=null,currentExpand<preloadExpand&&isLoading<1&&lowRuns>2&&loadMode>2&&!document.hidden?(currentExpand=preloadExpand,lowRuns=0):currentExpand=loadMode>1&&lowRuns>1&&isLoading<6?defaultExpand:0),beforeExpandVal!==elemExpand&&(eLvW=innerWidth+elemExpand*hFac,elvH=innerHeight+elemExpand,elemNegativeExpand=-1*elemExpand,beforeExpandVal=elemExpand),rect=lazyloadElems[i].getBoundingClientRect(),(eLbottom=rect.bottom)>=elemNegativeExpand&&(eLtop=rect.top)<=elvH&&(eLright=rect.right)>=elemNegativeExpand*hFac&&(eLleft=rect.left)<=eLvW&&(eLbottom||eLright||eLleft||eLtop)&&(lazySizesCfg.loadHidden||isVisible(lazyloadElems[i]))&&(isCompleted&&isLoading<3&&!elemExpandVal&&(loadMode<3||lowRuns<4)||isNestedVisible(lazyloadElems[i],elemExpand))){if(unveilElement(lazyloadElems[i]),loadedSomething=!0,isLoading>9)break}else!loadedSomething&&isCompleted&&!autoLoadElem&&isLoading<4&&lowRuns<4&&loadMode>2&&(preloadElems[0]||lazySizesCfg.preloadAfterLoad)&&(preloadElems[0]||!elemExpandVal&&(eLbottom||eLright||eLleft||eLtop||"auto"!=lazyloadElems[i].getAttribute(lazySizesCfg.sizesAttr)))&&(autoLoadElem=preloadElems[0]||lazyloadElems[i]);autoLoadElem&&!loadedSomething&&unveilElement(autoLoadElem)}}),rafedSwitchLoadingClass=rAFIt(switchLoadingClass=function(e){var elem=e.target;elem._lazyCache?delete elem._lazyCache:(resetPreloading(e),addClass(elem,lazySizesCfg.loadedClass),removeClass(elem,lazySizesCfg.loadingClass),addRemoveLoadEvents(elem,rafSwitchLoadingClass),triggerEvent(elem,"lazyloaded"))}),rafSwitchLoadingClass=function(e){rafedSwitchLoadingClass({target:e.target})},changeIframeSrc=function(elem,src){try{elem.contentWindow.location.replace(src)}catch(e){elem.src=src}},handleSources=function(source){var customMedia,sourceSrcset=source.getAttribute(lazySizesCfg.srcsetAttr);(customMedia=lazySizesCfg.customMedia[source.getAttribute("data-media")||source.getAttribute("media")])&&source.setAttribute("media",customMedia),sourceSrcset&&source.setAttribute("srcset",sourceSrcset)},lazyUnveil=rAFIt((function(elem,detail,isAuto,sizes,isImg){var src,srcset,parent,isPicture,event,firesLoad;(event=triggerEvent(elem,"lazybeforeunveil",detail)).defaultPrevented||(sizes&&(isAuto?addClass(elem,lazySizesCfg.autosizesClass):elem.setAttribute("sizes",sizes)),srcset=elem.getAttribute(lazySizesCfg.srcsetAttr),src=elem.getAttribute(lazySizesCfg.srcAttr),isImg&&(isPicture=(parent=elem.parentNode)&&regPicture.test(parent.nodeName||"")),firesLoad=detail.firesLoad||"src"in elem&&(srcset||src||isPicture),event={target:elem},addClass(elem,lazySizesCfg.loadingClass),firesLoad&&(clearTimeout(resetPreloadingTimer),resetPreloadingTimer=setTimeout(resetPreloading,2500),addRemoveLoadEvents(elem,rafSwitchLoadingClass,!0)),isPicture&&forEach.call(parent.getElementsByTagName("source"),handleSources),srcset?elem.setAttribute("srcset",srcset):src&&!isPicture&&(regIframe.test(elem.nodeName)?changeIframeSrc(elem,src):elem.src=src),isImg&&(srcset||isPicture)&&updatePolyfill(elem,{src:src})),elem._lazyRace&&delete elem._lazyRace,removeClass(elem,lazySizesCfg.lazyClass),rAF((function(){var isLoaded=elem.complete&&elem.naturalWidth>1;firesLoad&&!isLoaded||(isLoaded&&addClass(elem,"ls-is-cached"),switchLoadingClass(event),elem._lazyCache=!0,setTimeout((function(){"_lazyCache"in elem&&delete elem._lazyCache}),9)),"lazy"==elem.loading&&isLoading--}),!0)})),unveilElement=function(elem){if(!elem._lazyRace){var detail,isImg=regImg.test(elem.nodeName),sizes=isImg&&(elem.getAttribute(lazySizesCfg.sizesAttr)||elem.getAttribute("sizes")),isAuto="auto"==sizes;(!isAuto&&isCompleted||!isImg||!elem.getAttribute("src")&&!elem.srcset||elem.complete||hasClass(elem,lazySizesCfg.errorClass)||!hasClass(elem,lazySizesCfg.lazyClass))&&(detail=triggerEvent(elem,"lazyunveilread").detail,isAuto&&autoSizer.updateElem(elem,!0,elem.offsetWidth),elem._lazyRace=!0,isLoading++,lazyUnveil(elem,detail,isAuto,sizes,isImg))}},afterScroll=debounce((function(){lazySizesCfg.loadMode=3,throttledCheckElements()})),onload=function(){isCompleted||(Date.now()-started<999?setTimeout(onload,999):(isCompleted=!0,lazySizesCfg.loadMode=3,throttledCheckElements(),addEventListener("scroll",altLoadmodeScrollListner,!0)))},{_:function(){started=Date.now(),lazysizes.elements=document.getElementsByClassName(lazySizesCfg.lazyClass),preloadElems=document.getElementsByClassName(lazySizesCfg.lazyClass+" "+lazySizesCfg.preloadClass),addEventListener("scroll",throttledCheckElements,!0),addEventListener("resize",throttledCheckElements,!0),addEventListener("pageshow",(function(e){if(e.persisted){var loadingElements=document.querySelectorAll("."+lazySizesCfg.loadingClass);loadingElements.length&&loadingElements.forEach&&requestAnimationFrame((function(){loadingElements.forEach((function(img){img.complete&&unveilElement(img)}))}))}})),window.MutationObserver?new MutationObserver(throttledCheckElements).observe(docElem,{childList:!0,subtree:!0,attributes:!0}):(docElem.addEventListener("DOMNodeInserted",throttledCheckElements,!0),docElem.addEventListener("DOMAttrModified",throttledCheckElements,!0),setInterval(throttledCheckElements,999)),addEventListener("hashchange",throttledCheckElements,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(name){document.addEventListener(name,throttledCheckElements,!0)})),/d$|^c/.test(document.readyState)?onload():(addEventListener("load",onload),document.addEventListener("DOMContentLoaded",throttledCheckElements),setTimeout(onload,2e4)),lazysizes.elements.length?(checkElements(),rAF._lsFlush()):throttledCheckElements()},checkElems:throttledCheckElements,unveil:unveilElement,_aLSL:altLoadmodeScrollListner=function(){3==lazySizesCfg.loadMode&&(lazySizesCfg.loadMode=2),afterScroll()}}),preloadElems,isCompleted,resetPreloadingTimer,loadMode,started,eLvW,elvH,eLtop,eLleft,eLright,eLbottom,isBodyHidden,regImg,regIframe,supportScroll,shrinkExpand,currentExpand,isLoading,lowRuns,resetPreloading,isVisible,isNestedVisible,checkElements,throttledCheckElements,switchLoadingClass,rafedSwitchLoadingClass,rafSwitchLoadingClass,changeIframeSrc,handleSources,lazyUnveil,unveilElement,afterScroll,altLoadmodeScrollListner,onload,autoSizer=(sizeElement=rAFIt((function(elem,parent,event,width){var sources,i,len;if(elem._lazysizesWidth=width,width+="px",elem.setAttribute("sizes",width),regPicture.test(parent.nodeName||""))for(i=0,len=(sources=parent.getElementsByTagName("source")).length;i<len;i++)sources[i].setAttribute("sizes",width);event.detail.dataAttr||updatePolyfill(elem,event.detail)})),getSizeElement=function(elem,dataAttr,width){var event,parent=elem.parentNode;parent&&(width=getWidth(elem,parent,width),(event=triggerEvent(elem,"lazybeforesizes",{width:width,dataAttr:!!dataAttr})).defaultPrevented||(width=event.detail.width)&&width!==elem._lazysizesWidth&&sizeElement(elem,parent,event,width))},{_:function(){autosizesElems=document.getElementsByClassName(lazySizesCfg.autosizesClass),addEventListener("resize",debouncedUpdateElementsSizes)},checkElems:debouncedUpdateElementsSizes=debounce((function(){var i,len=autosizesElems.length;if(len)for(i=0;i<len;i++)getSizeElement(autosizesElems[i])})),updateElem:getSizeElement}),autosizesElems,sizeElement,getSizeElement,updateElementsSizes,debouncedUpdateElementsSizes,init=function(){!init.i&&document.getElementsByClassName&&(init.i=!0,autoSizer._(),loader._())};return setTimeout((function(){lazySizesCfg.init&&init()})),lazysizes={cfg:lazySizesCfg,autoSizer:autoSizer,loader:loader,init:init,uP:updatePolyfill,aC:addClass,rC:removeClass,hC:hasClass,fire:triggerEvent,gW:getWidth,rAF:rAF}}));